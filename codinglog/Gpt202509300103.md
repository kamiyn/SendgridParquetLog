# Coding Log

- Timestamp: 2025-09-30 01:03 (local)
- Task: `src/ResultApp.vue` ダイアログ表示状態から ESC キーを押すとダイアログを閉じる

## Prompt

> src/ResultApp.vue ダイアログ表示状態から ESC キーを押すと ダイアログを閉じる

## Changes Made

- File updated: `DuckDbBundle/src/ResultApp.vue`
  - Added global `keydown` handler to listen for `Escape` key while the row details dialog is open.
  - On `Escape`, prevent default and call `closeRowDialog()` to clear `selectedRowIndex`.
  - Registered the event listener in `onMounted` and removed it in `onUnmounted` to avoid leaks.

### Implementation Notes

- Imported `onMounted` and `onUnmounted` from Vue and wired a top-level `onKeyDown` function.
- The logic only triggers when `selectedRowIndex` is not `null`, ensuring ESC does not interfere when the dialog is not visible.

## Validation

- When a table row is clicked, the dialog opens.
- Pressing `Esc` closes the dialog; clicking outside or the close button also closes it.

## Other

- Followed AGENTS.md to record this change. Front-end only change; ran `dotnet format` in the repository after code modification per guidance.
